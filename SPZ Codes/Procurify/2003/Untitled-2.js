// Variant Code start
var link = document.createElement('link'); 
link.rel = 'stylesheet'; 
link.type = 'text/css';
link.href = '//res.cloudinary.com/spiralyze/raw/upload/JupiterOne/1018/code/style.css';

if(!document.querySelector('link[href="//res.cloudinary.com/spiralyze/raw/upload/JupiterOne/1018/code/style.css"]')) {
document.getElementsByTagName('head')[0].appendChild(link);

var link = document.createElement('link');                   
link.type = 'text/css';
link.rel = 'stylesheet';
link.href = 'https://cdn.jsdelivr.net/npm/@splidejs/splide@4.0.1/dist/css/splide.min.css';
document.head.appendChild(link);

}
function loadTestCode1018() {
    var runCode =  setInterval(() => {

        // Get a reference to the HTML element
        var element = document.querySelector(".modal-form-wrapper");
        element.classList.remove("modal-form-wrapper");
        element.classList.add("modal_form_wrapper");

        if(document.querySelectorAll('.modalQuestionswrapper').length == 0 && document.querySelectorAll('.modal_form_wrapper').length > 0 &&  document.querySelectorAll('body').length > 0){ 
            clearInterval(runCode);
            document.querySelector('body').classList.add('spz_t1018')                   
            document.querySelector('.modal-form-container').insertAdjacentHTML('beforebegin',`<div class="modalQuestionswrapper">
                <div class="modalQuestionsinner">
                    <div class="modal-left">
                        <div class="modal-left-inner">
                            <div class="integrations-slider">
                                <div class="splide  socialProofSlider slide_ltr1">
                                    <div class="splide__track">
                                        <div class="splide__list">
                                            <div class="splide__slide">
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/marqeta_1.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/marqeta.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/marqeta.webp" alt="Marqeta Logo">
                                                </picture>   
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/okta.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/okta_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/okta_1.webp" alt="okta Logo">
                                                </picture>	
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/databricks.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/databricks_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/databricks_1.webp" alt="Databricks Logo">
                                                </picture>	
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/cisco.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/cisco_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/cisco_1.webp" alt="Cisco Logo">
                                                </picture>
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/blend.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/blend_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/blend_1.webp" alt="Blend Logo">
                                                </picture>                                                
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="splide socialProofSlider slide_rtl1">
                                    <div class="splide__track">
                                        <div class="splide__list">
                                            <div class="splide__slide">
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/frame_1171275271.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/frame_1171275270.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/frame_1171275270.webp" alt="Indeed Logo">
                                                    </picture>	
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/liveintent_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/liveintent.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/liveintent.webp" alt="Liveintent Logo">
                                                    </picture>
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/autho_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/autho.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/autho.webp" alt="autho Logo">
                                                    </picture>
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/codoxo_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/codoxo.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/codoxo.webp" alt="codoxo Logo">
                                                    </picture>	
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/aver_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/aver.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/aver.webp" alt="aver Logo">
                                                    </picture>	
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="splide socialProofSlider slide_ltr2">
                                    <div class="splide__track">
                                        <div class="splide__list">
                                            <div class="splide__slide">
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/databricks.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/databricks_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/databricks_1.webp" alt="Databricks Logo">
                                                </picture>	
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/cisco.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/cisco_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/cisco_1.webp" alt="cisco Logo">
                                                </picture>
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/blend.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/blend_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/blend_1.webp" alt="Blend Logo">
                                                </picture>		
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/okta.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/okta_1.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/okta_1.webp" alt="okta logo">
                                                </picture>
            
                                                <picture>
                                                    <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/marqeta_1.webp" width="140" height="56">
                                                    <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/marqeta.webp" width="200" height="80">
                                                    <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/marqeta.webp" alt="Marqeta Logo">
                                                </picture>	
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="splide socialProofSlider slide_rtl2">
                                    <div class="splide__track">
                                        <div class="splide__list">
                                            <div class="splide__slide">                     
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/frame_1171275271.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/frame_1171275270.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/frame_1171275270.webp" alt="Indeed Logo">
                                                    </picture>
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/aver_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/aver.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/aver.webp" alt="aver Logo">
                                                    </picture>	
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/codoxo_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/codoxo.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/codoxo.webp" alt="codoxo Logo">
                                                    </picture>	
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/autho_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/autho.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/autho.webp" alt="autho Logo">
                                                    </picture>
                                                    <picture>
                                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/liveintent_1.webp" width="140" height="56">
                                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/liveintent.webp" width="200" height="80">
                                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/jupiterone/1018/liveintent.webp" alt="liveintent Logo">
                                                    </picture>	
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <h3>Join leading companies streamlining cyber asset management</h3>
                            </div>
                        </div>
                    </div>
                    <div class="modal-right">
                        <div class="modal-container steps1">
                            <div class="modal-logo">
                                <a href="https://www.jupiterone.com/" target="_blank">                             
                                    <picture>
                                        <source media="(max-width: 767px)" srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/JupiterOne/1017/logo_mobile_webp.webp">
                                        <source srcset="//res.cloudinary.com/spiralyze/image/upload/f_auto/JupiterOne/1017/logo_desktop_tablet_webp.webp">
                                        <img src="//res.cloudinary.com/spiralyze/image/upload/f_auto/JupiterOne/1017/logo_desktop_tablet_webp.webp" alt="JupiterOne">
                                    </picture>	
                                </a>
                            </div>
                            <div class="modal-form has_loader">
                                <div class="modal-get-form hide"></div>
                                <div class="demo_form hide"></div>
                            </div>
                            <div class="form-pagination">
                                <div class="multistepbullet"></div>
                                <div class="multistepbullet"></div>
                                <div class="multistepbullet"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`);


        // Infinte logo slider cloned code
        // Select all elements with the class .splide__slide
        const slidesToClone = document.querySelectorAll('.socialProofSlider .splide__slide');

        // Iterate over each slide and clone it
        slidesToClone.forEach((slideToClone) => {
            const clonedSlide = slideToClone.cloneNode(true);
            slideToClone.after(clonedSlide);
        });


        getScript('https://cdn.jsdelivr.net/npm/@splidejs/splide@4.0.1/dist/js/splide.min.js', function () {
            var cyberslider_ltr1  = new Splide('.socialProofSlider.slide_ltr1', {
                type: 'loop',
                autoWidth: true,
                arrows: false,  
                pagination: false,
                focus: 'center',
                speed: 20000,
                easing: 'linear',
                waitForTransition: true,
                autoplay: true,
                interval: 0,
                pauseOnHover: false,
                pauseOnFocus: false,
                direction: 'rtl',
            });
        

            var cyberslider_ltr2 = new Splide('.socialProofSlider.slide_ltr2', {
                type: 'loop',
                autoWidth: true,
                arrows: false,  
                pagination: false,
                focus: 'center',
                drag: false,
                speed: 20000,
                easing: 'linear',
                waitForTransition: true,
                autoplay: true,
                interval: 0,
                pauseOnHover: false,
                pauseOnFocus: false,
                direction: 'rtl',
            });

            var cyberslider_rtl1  = new Splide('.socialProofSlider.slide_rtl1', {
                type: 'loop',
                autoWidth: true,
                arrows: false,  
                pagination: false,
                focus: 'center',
                drag: false,
                speed: 20000,
                easing: 'linear',
                waitForTransition: true,
                autoplay: true,
                interval: 0,
                pauseOnHover: false,
                pauseOnFocus: false,
                direction: 'ltr',
            });
            

            var cyberslider_rtl2 = new Splide('.socialProofSlider.slide_rtl2', {
                type: 'loop',
                autoWidth: true,
                arrows: false,  
                pagination: false,
                focus: 'center',
                drag: false,
                speed: 20000,
                easing: 'linear',
                waitForTransition: true,
                autoplay: true,
                interval: 0,
                pauseOnHover: false,
                pauseOnFocus: false,
                direction: 'ltr',
            });
            cyberslider_ltr1.mount();
            cyberslider_ltr2.mount();
            cyberslider_rtl1.mount();
            cyberslider_rtl2.mount();

        });


            // For Load From
            function getScript(source, callback) {
                var el = document.createElement("script");
                el.onload = callback;
                el.src = source;
                document.body.appendChild(el);
            }
            getScript("//js.hsforms.net/forms/embed/v2.js", function (event) {
                hbspt.forms.create({
                    region: "na1",
                    portalId: "8047501",
                    formId: "485bd381-ac3b-4015-8927-b23a6eee8d81",
                    target: '.modal-get-form'
                });;

                hbspt.forms.create({
                    region: "na1",
                    portalId: "8047501",
                    formId: "4c483b9f-5214-402b-8a76-6f433b83b2ce",
                    target: '.demo_form'
                });

                var getClassInterval = setInterval(function(){
                    if(document.querySelectorAll('.spz_t1018 .modal-get-form .hs_submit .hs-button').length > 0){

                        clearInterval(getClassInterval);
                        
                        document.querySelector('.spz_t1018 .modal-form .modal-get-form .hs_submit .hs-button').insertAdjacentHTML('beforebegin','<span class="form_black d-none">Back</span>');
                        setTimeout(() => {
                            document.querySelector('.spz_t1018 .modal-form .modal-get-form').classList.remove('hide');
                            document.querySelector('.spz_t1018 .modal-form').classList.remove('has_loader');
                        }, 500);
                    }
                },500);
            });

            document.addEventListener('click', function (e) {
                
                const target = e.target;
                if (target && target.matches('.spz_t1018 .modal-get-form .hs_submit .hs-button') && document.querySelector('.modal-container').classList.contains('steps1')) {

                    // Hack to prevent an issue
                    // If someone back from second step after selecting any option in second steps then while click on next button from first steps, form is submitted directly instead of going to second steps.
                    document.querySelectorAll('.spz_t1018 .modal-get-form .hs-form .hs-form-field ul.inputs-list.multi-container li.hs-form-radio label input[type="radio"]').forEach(function (radio) {
                        if (radio.checked) {
                            e.preventDefault();
                        }
                    });

                    setTimeout(() => {
                        if(document.querySelectorAll('.spz_t1018 .modal-get-form .hs-form .hs-form-field.hs-fieldtype-radio .hs-error-msg').length == 0) {
                            document.querySelector('.spz_t1018 .modal-get-form .hs-form .hs-form-field.hs-fieldtype-checkbox .hs-error-msgs')?.classList.add('hide')
                            document.querySelector('.modal-container').classList.add('steps2');
                            document.querySelector('.modal-container').classList.remove('steps1');
                        }
                    }, 100);
                }

                // Second Steps error Show while click on next button.
                if (target && target.matches('.spz_t1018 .modal-get-form .hs_submit .hs-button') && document.querySelector('.modal-container').classList.contains('steps2') && document.querySelector('.spz_t1018 .modal-get-form .hs-form .hs-form-field.hs-fieldtype-checkbox .hs-error-msgs')?.classList.contains('hide')) {
                    console.log('click working');
                    document.querySelector('.spz_t1018 .modal-get-form .hs-form .hs-form-field.hs-fieldtype-checkbox .hs-error-msgs')?.classList.remove('hide')
                }

                if (target && target.matches('.form_black')) {
                    document.querySelector('.modal-container').classList.remove('steps2');
                    document.querySelector('.modal-container').classList.add('steps1');
                }
            });

            window.addEventListener("message", function(event) {
                if(event.data.type === 'hsFormCallback' && event.data.eventName === 'onFormSubmitted') {
                    document.querySelector('.modal-get-form').remove();
                    document.querySelector('.modal-open .hide').style.display="block";
                    document.querySelector('.modal-container').classList.add('steps3');
                    document.querySelector('.modal-container').classList.remove('steps2');

                    function getCookie(name) {
                        var nameEQ = name + "=";
                        var ca = document.cookie.split(';');
                        for (var i = 0; i < ca.length; i++) {
                            var c = ca[i];
                            while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);
                        }
                        return null;
                    }
                    
                    if (document.querySelector('.demo_form .hs_email input[type="email"]')) {
                    
                        var storedEmailSPZ = getCookie("AutoFillEmailSPZ");
                        if (storedEmailSPZ) {
                            document.querySelector('.demo_form .hs_email input[type="email"]').value = storedEmailSPZ;

                            document.querySelector('.demo_form .hs_email input[type="email"]').focus();
                            document.querySelector('.demo_form  input[name="firstname"]').focus();
                        }
                    }
                }
            });

            // load main Form
            var testFormInt =  setInterval(() => {
                if(document.querySelector('.demo_form .hs-input')) {
                    clearInterval(testFormInt);
            
                    document.querySelector('.demo_form .hs-richtext').parentElement.classList.add('form_title_row');
                    document.querySelector('.demo_form .hs-richtext h2').innerHTML = "Sounds like JupiterOne is a perfect fit for your asset management!";
                    document.querySelector('.demo_form .hs-richtext p').innerHTML = `See how teams are getting complete visibility into their environment.
                    View&nbsp;assets connections. Prioritize risks.`;
                    document.querySelector('.demo_form .hs_phone').classList.add('hide');
                    document.querySelector('.demo_form .hs-how_did_you_hear_about_us_').classList.add('hide');
            
                    document.querySelectorAll('.demo_form .hs-form-field').forEach(function(e) {
                        if(e.querySelector('.input input')) {
                            if(e.querySelector('.input input').value != '') {
                                e.classList.add('is-filled');
                            }
                            else {
                                e.classList.remove('is-filled');
                            }
                            e.querySelector('.input input').addEventListener('focus', function(elem){
                                if(elem.target.classList.contains('hs-input')) {
                                    elem.target.closest('.hs-form-field').classList.add('is-focused');
                                }
                                fieldStates(elem.target);
                            });
                            e.querySelector('.input input').addEventListener('blur', function(elem){
                                elem.target.closest('.hs-form-field').classList.remove('is-focused');
                                if(elem.target.value != '') {
                                    elem.target.closest('.hs-form-field').classList.add('is-filled');
                                }
                                else {
                                    elem.target.closest('.hs-form-field').classList.remove('is-filled');
                                }
                                fieldStates(elem.target);
                            });
            
                            e.querySelector('.input input').addEventListener('keyup', function(elem) {
                                if(document.querySelector('.hs_firstname input').value != '' && document.querySelector('.hs_lastname input').value != '' && document.querySelector('.hs_email input').value != '' && document.querySelector('.hs_company input').value != '') {
                                    if(document.querySelector('.hs_phone').classList.contains('hide') && document.querySelector('.hs-how_did_you_hear_about_us_').classList.contains('hide')){
                                        document.querySelector('.hs_phone').classList.remove('hide');
                                        document.querySelector('.hs-how_did_you_hear_about_us_').classList.remove('hide');
                                    }
                                }
                                fieldStates(elem.target);
                                var findError = setInterval(() => {
                                    if(elem.target.closest('.hs-form-field').querySelector('.hs-error-msg')) {
                                        clearInterval(findError);
                                        elem.target.closest('.hs-form-field').classList.add('is-error');
                                        elem.target.closest('.hs-form-field').querySelector('.hs-error-msg').classList.remove('hide');
                                    }
                                    setTimeout(() => {
                                        clearInterval(findError);
                                    }, 5000);
                                }, 100);
                            });
                            
                            document.querySelector('.demo_form .hs_submit .hs-button').setAttribute('value','Get a Demo');
                        }
                    });
                    document.querySelector('.demo_form .hs_submit .hs-button').addEventListener('click', function() {
                        document.querySelectorAll('.demo_form .hs-form-field input').forEach(function(e) { 
                            fieldStates(e);
                        });
                    });
                
                    function fieldStates(elem) {
                        var findErrorInt = setInterval(() => {
                            if(elem.classList.contains('error')) {
                                clearInterval(findErrorInt);
                                elem.closest('.demo_form .hs-form-field').classList.add('is-error');
                            }
                            else {
                                elem.closest('.demo_form .hs-form-field').classList.remove('is-error');
                            }
                            setTimeout(() => {
                                clearInterval(findErrorInt);
                            }, 5000);
                        }, 10);
                    }
                }
            }, 10);
        }
    }, 500);
}
loadTestCode1018();
// Variant Code over 